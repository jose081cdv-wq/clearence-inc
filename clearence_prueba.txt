<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Calculadora Cockcroft-Gault — Instituto Nacional del Cáncer</title>
<style>
  body {
    font-family: Arial, Helvetica, sans-serif;
    /* Degradado de fondo original */
    background: linear-gradient(135deg, #FF6B1F, #D8000C);
    padding: 20px;
    color: #fff;
    /* Hacemos que el body sea un contenedor de referencia para el fondo */
    position: relative; 
    overflow: auto; /* Asegura que el body se expanda con el contenido */
    min-height: 100vh; /* Para que ocupe toda la altura de la pantalla */
  }

  /* >>> CÓDIGO AÑADIDO: CAPA DE FONDO REPETIDO CON OPACIDAD <<< */
  body::before {
    content: '';
    position: fixed; /* Fija el fondo para que no se mueva al hacer scroll */
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url('https://www.incancer.cl/wp-content/uploads/2022/06/logo-incancer.png');
    background-repeat: repeat;
    background-size: 100px;
    opacity: 0.15; /* Baja la opacidad para hacerlo muy sutil y profesional */
    z-index: 1; /* Coloca la capa detrás del contenido (z-index por debajo de .card) */
  }
  /* >>> FIN CÓDIGO AÑADIDO <<< */

  .card {
    max-width: 720px;
    margin: 20px auto;
    background: #fff;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 6px 20px rgba(0,0,0,0.3);
    color: #111;
    /* Asegura que la tarjeta esté encima de la capa de fondo */
    position: relative;
    z-index: 10;
  }
  h1 {
    margin: 0 0 6px;
    font-size: 22px;
    display: flex;
    align-items: center;
    gap: 12px;
  }
  h1 img {
    height: 50px;
  }
  p.lead {
    margin: 0 0 14px;
    color: #333;
  }
  .grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
  }
  label {
    font-size: 13px;
    color: #222;
    margin-bottom: 6px;
    display: block;
  }
  input, select {
    width: 100%;
    padding: 8px;
    border: 1px solid #d6dce3;
    border-radius: 6px;
    font-size: 14px;
    background: #fff;
  }
  .full {
    grid-column: 1 / -1;
  }
  .actions {
    display: flex;
    gap: 8px;
    margin-top: 10px;
  }
  button {
    background: #0b5fff;
    color: #fff;
    border: 0;
    padding: 10px 14px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
  }
  .result {
    margin-top: 16px;
    padding: 12px;
    border-radius: 8px;
    background: #f1f7ff;
    color: #111;
  }
  .muted {
    color: #666;
    font-size: 13px;
  }
</style>
</head>
<body>
<div class="card">
  <h1><img src="https://www.incancer.cl/wp-content/uploads/2022/06/logo-incancer.png" alt="INC Logo"> Calculadora Cockcroft‑Gault</h1>
  <p class="lead">Estimación del clearance de creatinina (mL/min) y corrección por superficie corporal (mL/min/1,73 m²).</p>

  <div class="grid">
    <div>
      <label>Edad (años)</label>
      <input id="edad" type="number" min="0" step="1" value="60">
    </div>

    <div>
      <label>Sexo</label>
      <select id="sexo">
        <option value="male">Hombre</option>
        <option value="female">Mujer</option>
      </select>
    </div>

    <div>
      <label>Peso (kg)</label>
      <input id="peso" type="number" min="0" step="0.1" value="70">
    </div>

    <div>
      <label>Talla (cm)</label>
      <input id="talla" type="number" min="0" step="0.1" value="170">
    </div>

    <div>
      <label>Creatinina sérica</label>
      <input id="creat" type="number" min="0" step="0.01" value="1.00">
    </div>

    <div>
      <label>Unidad</label>
      <select id="unidad">
        <option value="mg/dL">mg/dL</option>
        <option value="umol/L">µmol/L</option>
      </select>
    </div>

    <div class="full actions">
      <button onclick="calcular()">Calcular</button>
      <button onclick="limpiar()" style="background:#e6eefc;color:#0b5fff;border:1px solid #d6e4ff">Limpiar</button>
    </div>
  </div>

  <div id="salida" class="result" style="display:none;">
    <div><strong>Creatinina (mg/dL):</strong> <span id="out_creat"></span></div>
    <div><strong>Clearance (Cockcroft‑Gault):</strong> <span id="out_cg"></span></div>
    <div><strong>Clearance corregido SC (1,73 m²):</strong> <span id="out_corr"></span></div>
    <div class="muted" id="nota" style="margin-top:8px"></div>
  </div>

  <p class="muted" style="margin-top:12px"><strong>Limitaciones:</strong> estimación; puede fallar en masa muscular anormal, embarazo, cirrosis o cambios agudos de función renal.</p>
</div>

<script>
function toMgPerDl(value, unit) {
  if(unit==='mg/dL') return value;
  return value/88.4;
}

function calcularBSA(peso,talla){
  if(!peso||!talla) return null;
  return Math.sqrt((peso*talla)/3600);
}

function calcular(){
  var edad=parseFloat(document.getElementById('edad').value);
  var sexo=document.getElementById('sexo').value;
  var peso=parseFloat(document.getElementById('peso').value);
  var talla=parseFloat(document.getElementById('talla').value);
  var creat_input=parseFloat(document.getElementById('creat').value);
  var unidad=document.getElementById('unidad').value;

  if(!edad||!peso||!talla||!creat_input){
    alert('Por favor ingresa todos los valores requeridos.');
    return;
  }

  var creat_mg=toMgPerDl(creat_input,unidad);
  document.getElementById('out_creat').innerText=creat_mg.toFixed(2)+' mg/dL';

  var cg=((140-edad)*peso)/(72*creat_mg);
  if(sexo==='female') cg*=0.85;

  var bsa=calcularBSA(peso,talla);
  var cg_corr=bsa?cg*(1.73/bsa):null;

  document.getElementById('out_cg').innerText=cg.toFixed(2)+' mL/min';
  document.getElementById('out_corr').innerText=cg_corr?cg_corr.toFixed(2)+' mL/min/1.73 m²':'— (requiere peso y talla)';
  document.getElementById('nota').innerText='Resultado estimado.';

  document.getElementById('salida').style.display='block';
}

function limpiar(){
  document.getElementById('edad').value='';
  document.getElementById('sexo').value='male';
  document.getElementById('peso').value='';
  document.getElementById('talla').value='';
  document.getElementById('creat').value='';
  document.getElementById('unidad').value='mg/dL';
  document.getElementById('salida').style.display='none';
}
</script>
</body>
</html>